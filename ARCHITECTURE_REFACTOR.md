# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ChainscanClient

## üéØ –¶–µ–ª—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

–£–ø—Ä–æ—Å—Ç–∏—Ç—å –∏ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ChainscanClient, —É–±—Ä–∞–≤ –¥–≤–æ–π—Å—Ç–≤–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –º–µ–∂–¥—É `scanner_id` –∏ `network` –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

## üìä –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–î–≤–æ–π—Å—Ç–≤–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞**: `scanner_id` –∏ `network` –¥—É–±–ª–∏—Ä—É—é—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
2. **–†–∞–∑–Ω—ã–µ —Å—Ö–µ–º—ã**: —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ-—Ä–∞–∑–Ω–æ–º—É
3. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏—è**: `('blockscout', 'v1', 'blockscout_eth', 'eth')` –Ω–µ—è—Å–Ω–æ

### –í—ã—è—Å–Ω–µ–Ω–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:

#### Etherscan V2:
- **URL**: `https://api.etherscan.io/v2/api?chainid=1&module=account&action=balance`
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: query –ø–∞—Ä–∞–º–µ—Ç—Ä `apikey`
- **Chain ID**: –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ `chainid` –ø–∞—Ä–∞–º–µ—Ç—Ä
- **–ï–¥–∏–Ω—ã–π –¥–æ–º–µ–Ω**: `etherscan.io` –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ç–µ–π

#### BlockScout:
- **URL**: `https://eth.blockscout.com/api?module=account&action=balance`
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: query –ø–∞—Ä–∞–º–µ—Ç—Ä `apikey`
- **Instance domains**: —Ä–∞–∑–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Ç–∏ (`eth.blockscout.com`, `base.blockscout.com`)
- **Network mapping**: `network='eth'` ‚Üí instance=`eth.blockscout.com`

#### Moralis:
- **URL**: `https://deep-index.moralis.io/api/v2.2/0x1/native/balance/0x...`
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: header `X-API-Key`
- **Chain ID**: –≤ hex —Ñ–æ—Ä–º–∞—Ç–µ –≤ URL –ø—É—Ç–∏ (`0x1`, `0x2105`)
- **RESTful API**: path-based –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## üöÄ –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```python
# –í–º–µ—Å—Ç–æ 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ - 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö
ChainscanClient.from_config(
    scanner_name='blockscout',      # Provider name
    scanner_version='v1',           # API version
    network='eth'                   # Chain name/ID
)
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ:
- `network='eth'` ‚Üí chain_id=1, blockscout_instance='eth.blockscout.com'
- `network='base'` ‚Üí chain_id=8453, blockscout_instance='base.blockscout.com'
- `network=1` ‚Üí chain_id=1, blockscout_instance='eth.blockscout.com'

### Provider-specific –ª–æ–≥–∏–∫–∞:
- **Etherscan V2**: chain_id –∫–∞–∫ query –ø–∞—Ä–∞–º–µ—Ç—Ä `chainid`
- **BlockScout**: instance_domain –¥–ª—è URL –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è
- **Moralis**: chain_id_hex –≤ URL –ø—É—Ç–∏

## üìã –ó–∞–¥–∞—á–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏:
1. **–°–æ–∑–¥–∞–Ω chain_registry.py** - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ chain_id —Å –∞–ª–∏–∞—Å–∞–º–∏
2. **–û–±–Ω–æ–≤–ª–µ–Ω from_config** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç network –∫–∞–∫ chain name/ID
3. **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Å–∫–∞–Ω–µ—Ä—ã** - –ø—Ä–∏–Ω–∏–º–∞—é—Ç chain_id –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –µ–≥–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
4. **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã** - –æ—Ç—Ä–∞–∂–∞—é—Ç –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
5. **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø—Ä–∏–º–µ—Ä—ã —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

### üîÑ –¢–µ–∫—É—â–∏–µ –∑–∞–¥–∞—á–∏:
1. **–û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é** - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
3. **–û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### üìù –§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

#### Core –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `aiochainscan/core/client.py` - from_config –∏ ChainscanClient
- `aiochainscan/chain_registry.py` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ chain_id
- `aiochainscan/scanners/base.py` - –±–∞–∑–æ–≤—ã–π —Å–∫–∞–Ω–µ—Ä —Å chain_id
- `aiochainscan/scanners/etherscan_v2.py` - Etherscan —Å chain_id –≤ query
- `aiochainscan/scanners/blockscout_v1.py` - BlockScout —Å instance_domain
- `aiochainscan/scanners/moralis_v1.py` - Moralis —Å chain_id_hex –≤ –ø—É—Ç–∏

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `README.md` - –ø—Ä–∏–º–µ—Ä—ã —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- `AGENTS.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- `examples/*.py` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

#### –¢–µ—Å—Ç—ã:
- `tests/test_*` - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- `tests/test_e2e_*` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

## üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
1. **Etherscan V2 –¥–ª—è Ethereum**: `ChainscanClient.from_config('etherscan', 'v2', 'ethereum')`
2. **Etherscan V2 –¥–ª—è Base**: `ChainscanClient.from_config('etherscan', 'v2', 'base')`
3. **BlockScout –¥–ª—è Ethereum**: `ChainscanClient.from_config('blockscout', 'v1', 'ethereum')`
4. **BlockScout –¥–ª—è Polygon**: `ChainscanClient.from_config('blockscout', 'v1', 'polygon')`
5. **Moralis –¥–ª—è Ethereum**: `ChainscanClient.from_config('moralis', 'v1', 'ethereum')`

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
- ‚úÖ –ö–ª–∏–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ API –≤—ã–∑–æ–≤—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –¥–∞–Ω–Ω—ã–µ
- ‚úÖ Chain ID –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ù–æ–≤–∞—è —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```python
# –í—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
client = ChainscanClient.from_config('blockscout', 'v1', 'ethereum')     # BlockScout
client = ChainscanClient.from_config('etherscan', 'v2', 'ethereum')      # Etherscan
client = ChainscanClient.from_config('moralis', 'v1', 'ethereum')        # Moralis

# –†–∞–±–æ—Ç–∞–µ—Ç —Å chain_id
client = ChainscanClient.from_config('etherscan', 'v2', 1)          # Ethereum
client = ChainscanClient.from_config('blockscout', 'v1', 8453)       # Base
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ **–ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- ‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –º–µ–Ω—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —è—Å–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å chain names –∏ chain IDs
- ‚úÖ **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- ‚úÖ **Backward compatibility** - —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

## üìà –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ä–∞–±–æ—Ç–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
4. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - —É–±—Ä–∞—Ç—å legacy –∫–æ–¥ –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ
