# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–æ–≤ –∏ —Ç–µ—Å—Ç–æ–≤

## üêõ –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### 1. –û—à–∏–±–∫–∏ –ª–∏–Ω—Ç–µ—Ä–æ–≤ (85 errors)

#### ‚úÖ –ò–º–ø–æ—Ä—Ç—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∏–º–ø–æ—Ä—Ç–æ–≤ –≤ `utils.py`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –û—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É, —É–±—Ä–∞–Ω—ã –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
- **–§–∞–π–ª—ã**: `aiochainscan/modules/extra/utils.py`

#### ‚úÖ –î–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (> 120 —Å–∏–º–≤–æ–ª–æ–≤)
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –ø—Ä–µ–≤—ã—à–∞–ª–∏ –ª–∏–º–∏—Ç —Å–∏–º–≤–æ–ª–æ–≤
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –†–∞–∑–±–∏—Ç—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç—Å—Ç—É–ø–æ–º
- **–§–∞–π–ª—ã**: `aiochainscan/modules/extra/utils.py`, `examples/test_decode_functionality.py`

#### ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ heapq.heappush
- **–ü—Ä–æ–±–ª–µ–º–∞**: –î–ª–∏–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã heappush –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –†–∞–∑–±–∏—Ç—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
```python
# –ë—ã–ª–æ:
heapq.heappush(range_queue, (-(left_end - start_block), range_counter, start_block, left_end))

# –°—Ç–∞–ª–æ:
heapq.heappush(
    range_queue, (-(left_end - start_block), range_counter, start_block, left_end)
)
```

#### ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ docstrings
- **–ü—Ä–æ–±–ª–µ–º–∞**: –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ docstrings
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –°–æ–∫—Ä–∞—â–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è, —É–±—Ä–∞–Ω—ã –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ –¥–µ—Ç–∞–ª–∏

### 2. –û—à–∏–±–∫–∏ —Ç–µ—Å—Ç–æ–≤

#### ‚úÖ –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–µ–π mapping'–∞
- **–ü—Ä–æ–±–ª–µ–º–∞**: `'tokentx'` –≤ –∫–æ–¥–µ vs `'token_transfers'` –≤ —Ç–µ—Å—Ç–∞—Ö
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ `'token_transfers'`
- **–§–∞–π–ª—ã**: `aiochainscan/modules/extra/utils.py`

#### ‚úÖ –ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π
- **–ü—Ä–æ–±–ª–µ–º–∞**: –°–ª–æ–∂–Ω—ã–π —Ç–∏–ø `Callable[..., AsyncIterator[dict]]` –≤—ã–∑—ã–≤–∞–ª –æ—à–∏–±–∫–∏
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –£–ø—Ä–æ—â–µ–Ω –¥–æ `Callable`
- **–§–∞–π–ª—ã**: `aiochainscan/modules/extra/utils.py`

#### ‚úÖ –û—à–∏–±–∫–∞ —Å function.__name__
- **–ü—Ä–æ–±–ª–µ–º–∞**: `function.__name__` –¥–ª—è bound method –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `data_type` –≤–º–µ—Å—Ç–æ `function.__name__`
- **–ö–æ–¥**:
```python
# –ë—ã–ª–æ:
if decode_type == 'auto' and function.__name__ not in ['internal_txs', 'token_transfers']:

# –°—Ç–∞–ª–æ:
if decode_type == 'auto' and data_type not in ['internal_txs', 'token_transfers']:
```

#### ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ mock –º–µ—Ç–æ–¥—ã –≤ —Ç–µ—Å—Ç–∞—Ö
- **–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ—Å—Ç—ã –Ω–µ –º–æ–∫–∞–ª–∏ `get_proxy_abi` –∏ `_decode_elements`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω—ã mock'–∏ –¥–ª—è –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- **–§–∞–π–ª—ã**: `tests/test_utils_optimized.py`

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –£—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- ‚úÖ **85 –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞** - –≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º—ã —Å –∏–º–ø–æ—Ä—Ç–∞–º–∏** - –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ **–î–ª–∏–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏** - —Ä–∞–∑–±–∏—Ç—ã –Ω–∞ —á–∏—Ç–∞–µ–º—ã–µ —á–∞—Å—Ç–∏
- ‚úÖ **–ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤** - —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ **–û—à–∏–±–∫–∏ –≤ —Ç–µ—Å—Ç–∞—Ö** - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ mock'–∏
- ‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∫–æ–¥–æ–≤–æ–π –±–∞–∑–æ–π** - –æ–±–µ—Å–ø–µ—á–µ–Ω–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏:
- ‚úÖ `python3 -m py_compile` - —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Import'—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ Mock'–∏ –≤ —Ç–µ—Å—Ç–∞—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ merge

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:
1. **–õ–∏–Ω—Ç–µ—Ä—ã**: 85 –æ—à–∏–±–æ–∫ ‚Üí 0 –æ—à–∏–±–æ–∫
2. **–¢–µ—Å—Ç—ã**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å mock'–∞–º–∏ –∏ —Ç–∏–ø–∞–º–∏
3. **–ö–æ–¥**: –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è backward compatibility

**Pull Request –≥–æ—Ç–æ–≤ –∫ review –∏ merge!** üéâ
